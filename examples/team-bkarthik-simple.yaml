---
apiVersion: observability.ethos.io/v1alpha1
kind: MetricAccess
metadata:
  name: bkarthik-metrics-simple
  namespace: ns-team-bkarthik
spec:
  # Source identifier
  source: ns-team-bkarthik
  
  # Metrics patterns - using namespace label
  metrics:
    # All metrics from this namespace
    - '{namespace="ns-team-bkarthik"}'
    
    # Node metrics (if the team needs them)
    - 'node_cpu_seconds_total'
    - 'node_memory_MemAvailable_bytes'
  
  # Label selectors for additional filtering
  labelSelectors:
    namespace: "ns-team-bkarthik"

  # Remote write configuration
  remoteWrite:
    enabled: true
    interval: "30s"
    prometheus:
      serviceName: "prometheus"
      servicePort: 9090
    target:
      type: "prometheus"
    extraLabels:
      tenant: "team-bkarthik"
      managed_by: "multi-tenant-proxy" 